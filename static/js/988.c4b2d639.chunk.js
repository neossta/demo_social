"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[988],{8988:function(e,n,s){s.r(n),s.d(n,{default:function(){return z}});var r=s(364),o=s(2938),t=function(e){return e.usersPage.users},i=function(e){return e.usersPage.pageSize},l=function(e){return e.usersPage.currentPage},a=function(e){return e.usersPage.isFetching},u=function(e){return e.usersPage.totalUsersCount},c=function(e){return e.usersPage.followingInProgress},g=s(5671),f=s(3144),p=s(136),d=s(5716),h=s(2791),P=s(5944),w="Users_avatar__AgTtQ",C="Users_status__A0Km5",v="Users_user__VfVar",j=s(3504),x=s(885),m="Paginator_selectedPage__OvUQy",U=s(184),_=function(e){for(var n=Math.ceil(e.totalUsersCount/e.pageSize),s=(0,h.useState)(1),r=(0,x.Z)(s,2),o=r[0],t=r[1],i=(o-1)*e.pageSize+1,l=o*e.pageSize,a=[],u=1;u<=n;u++)a.push(u);return(0,U.jsxs)("div",{children:[o>1&&(0,U.jsx)("button",{onClick:function(){return t(o-1)},children:"PREV"}),a.filter((function(e){return e>=i&&e<=l})).map((function(n){return(0,U.jsx)("button",{className:n===e.currentPage?m:void 0,onClick:function(s){return e.onPageChanged(n)},children:n})})),(0,U.jsx)("button",{onClick:function(){return t(o+1)},children:"NEXT"})]})},k=function(e){return(0,U.jsxs)("div",{className:v,children:[(0,U.jsxs)("div",{children:[(0,U.jsx)(j.OL,{to:"/profile/"+e.id,children:(0,U.jsx)("img",{src:null!=e.avatar?e.avatar:"https://icdn.lenta.ru/images/2021/09/20/02/20210920021024196/square_320_5c43cbf4b742b3b9f6a141cef1a593ae.jpg",alt:"avatar",className:w})})," "]}),(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{children:e.name}),(0,U.jsx)("div",{className:C,children:e.status})]}),(0,U.jsx)("span",{children:e.followed?(0,U.jsx)("button",{disabled:e.followingInProgress.some((function(n){return n===e.id})),onClick:function(){e.unfollow(e.id)},children:"Unfollow"}):(0,U.jsx)("button",{disabled:e.followingInProgress.some((function(n){return n===e.id})),onClick:function(){e.follow(e.id)},children:"Follow"})})]})},b=function(e){var n=e.users.map((function(n){return(0,U.jsx)(k,{name:n.name,id:n.id,followed:n.followed,avatar:n.photos.small,status:n.status,follow:function(){e.follow(n.id)},unfollow:function(){e.unfollow(n.id)},setFollowingInProgress:function(n,s){e.setFollowingInProgress(n,s)},followingInProgress:e.followingInProgress})}));return(0,h.useEffect)((function(){window.scrollTo(0,0)})),(0,U.jsxs)("div",{children:[(0,U.jsx)("div",{children:n}),(0,U.jsx)(_,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,onPageChanged:e.onPageChanged,currentPage:e.currentPage})]})},I=function(e){(0,p.Z)(s,e);var n=(0,d.Z)(s);function s(){var e;(0,g.Z)(this,s);for(var r=arguments.length,o=new Array(r),t=0;t<r;t++)o[t]=arguments[t];return(e=n.call.apply(n,[this].concat(o))).onPageChanged=function(n){e.props.setCurrentPage(n),e.props.getUsersThunkCreator(n,e.props.pageSize)},e}return(0,f.Z)(s,[{key:"componentDidMount",value:function(){0===this.props.users.length&&this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,U.jsxs)(U.Fragment,{children:[this.props.isFetching?(0,U.jsx)(P.Z,{}):null,(0,U.jsx)(b,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,setFollowingInProgress:this.props.setFollowingInProgress,followingInProgress:this.props.followingInProgress})]})}}]),s}(h.Component),S=I,z=(0,r.$j)((function(e){return{users:t(e),pageSize:i(e),totalUsersCount:u(e),currentPage:l(e),isFetching:a(e),followingInProgress:c(e)}}),{follow:o.ZN,unfollow:o.fv,setCurrentPage:o.D4,setFollowingInProgress:o.Vb,getUsersThunkCreator:o.Uk})(S)}}]);
//# sourceMappingURL=988.c4b2d639.chunk.js.map