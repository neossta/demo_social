"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[988],{8988:function(e,n,s){s.r(n),s.d(n,{default:function(){return S}});var r=s(364),o=s(2938),t=function(e){return e.usersPage.users},i=function(e){return e.usersPage.pageSize},l=function(e){return e.usersPage.currentPage},u=function(e){return e.usersPage.isFetching},a=function(e){return e.usersPage.totalUsersCount},c=function(e){return e.usersPage.followingInProgress},g=s(5671),f=s(3144),p=s(136),d=s(5716),h=s(2791),P=s(7867),w="Users_avatar__meg64",C="Users_status__TRoxL",j="Users_user__cCzY1",v=s(3504),x=s(885),m="Paginator_selectedPage__yTBiq",_=s(184),k=function(e){for(var n=Math.ceil(e.totalUsersCount/e.pageSize),s=(0,h.useState)(1),r=(0,x.Z)(s,2),o=r[0],t=r[1],i=(o-1)*e.pageSize+1,l=o*e.pageSize,u=[],a=1;a<=n;a++)u.push(a);return(0,_.jsxs)("div",{children:[o>1&&(0,_.jsx)("button",{onClick:function(){return t(o-1)},children:"PREV"}),u.filter((function(e){return e>=i&&e<=l})).map((function(n){return(0,_.jsx)("button",{className:n===e.currentPage?m:void 0,onClick:function(s){return e.onPageChanged(n)},children:n})})),(0,_.jsx)("button",{onClick:function(){return t(o+1)},children:"NEXT"})]})},U=function(e){return(0,_.jsxs)("div",{className:j,children:[(0,_.jsxs)("div",{children:[(0,_.jsx)(v.OL,{to:"/profile/"+e.id,children:(0,_.jsx)("img",{src:null!=e.avatar?e.avatar:"https://icdn.lenta.ru/images/2021/09/20/02/20210920021024196/square_320_5c43cbf4b742b3b9f6a141cef1a593ae.jpg",alt:"avatar",className:w})})," "]}),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{children:e.name}),(0,_.jsx)("div",{className:C,children:e.status})]}),(0,_.jsx)("span",{children:e.followed?(0,_.jsx)("button",{disabled:e.followingInProgress.some((function(n){return n===e.id})),onClick:function(){e.unfollow(e.id)},children:"Unfollow"}):(0,_.jsx)("button",{disabled:e.followingInProgress.some((function(n){return n===e.id})),onClick:function(){e.follow(e.id)},children:"Follow"})})]})},b=function(e){var n=e.users.map((function(n){return(0,_.jsx)(U,{name:n.name,id:n.id,followed:n.followed,avatar:n.photos.small,status:n.status,follow:function(){e.follow(n.id)},unfollow:function(){e.unfollow(n.id)},setFollowingInProgress:function(n,s){e.setFollowingInProgress(n,s)},followingInProgress:e.followingInProgress})}));return(0,h.useEffect)((function(){window.scrollTo(0,0)})),(0,_.jsxs)("div",{children:[(0,_.jsx)("div",{children:n}),(0,_.jsx)(k,{totalUsersCount:e.totalUsersCount,pageSize:e.pageSize,onPageChanged:e.onPageChanged,currentPage:e.currentPage})]})},I=function(e){(0,p.Z)(s,e);var n=(0,d.Z)(s);function s(){var e;(0,g.Z)(this,s);for(var r=arguments.length,o=new Array(r),t=0;t<r;t++)o[t]=arguments[t];return(e=n.call.apply(n,[this].concat(o))).onPageChanged=function(n){e.props.setCurrentPage(n),e.props.getUsersThunkCreator(n,e.props.pageSize)},e}return(0,f.Z)(s,[{key:"componentDidMount",value:function(){0===this.props.users.length&&this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,_.jsxs)(_.Fragment,{children:[this.props.isFetching?(0,_.jsx)(P.Z,{}):null,(0,_.jsx)(b,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,follow:this.props.follow,unfollow:this.props.unfollow,setFollowingInProgress:this.props.setFollowingInProgress,followingInProgress:this.props.followingInProgress})]})}}]),s}(h.Component),z=I,S=(0,r.$j)((function(e){return{users:t(e),pageSize:i(e),totalUsersCount:a(e),currentPage:l(e),isFetching:u(e),followingInProgress:c(e)}}),{follow:o.ZN,unfollow:o.fv,setCurrentPage:o.D4,setFollowingInProgress:o.Vb,getUsersThunkCreator:o.Uk})(z)}}]);
//# sourceMappingURL=988.51122bf4.chunk.js.map